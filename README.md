## Сообщения

Каждое IRC-сообщение может содержать до трех частей, разделенных одним (или более) символом пробела: 

* Префикс (опционально)
* Команда
* Параметры команды(до 15).

**Префикс** используется серверами для обозначения источника появления сообщения. Обозначается одним символом `:`, стоящим вначале, который должен быть первым символом в сообщении. Между префиксом и `:` не должно быть никаких пробелов.

**Команда должна** содержать правильную IRC-команду или трехзначное число, представленное в ASCII-тексте. Максимальная длина строки для команд и параметров - 510 символов. Перенос строки невозможен.

Когда приходит ответ *ERR_NOSUCSERVER*, это значит, что параметр <server> не найден. Сервер может не отсылать других ответов после этой команды.
Сервер, к которому присоединился клиент требует к парсингу полное сообщение, возвращая любые найденные ошибки. Если сервер встретит смертельную ошибку в процессе парсинга, ошибка может быть возвращена обратно клиенту с остановкой процесса проверки. Эта ошибка может быть вызвана некорректной командой, направление которой неизвестно серверу (сервер, никнейм или название канала), не достаточно параметров или неправильные привилегии.

## Регистрация соединения

Рекомендуемые условия для регистрации клиента:

1. PASS-сообщение
2. NICK-сообщение
3. USER-сообщение

#### 1. PASS-сообщение

Команда PASS используется для установки 'парольного соединения'. Пароль может и должен быть установлен перед любой попыткой регистрации установленного соединения. В текущий момент, это требования к клиентам отправлять команду PASS перед отправкой комбинации NICK/USER.

Числовые ответы:

		ERR_NEEDMOREPARAMS	ERR_ALREADYREGISTRED

Пример:
```
PASS secretpasswordhere
```

#### 2. NICK-сообщение (login)

Если сервер получит NICK, который уже существует, то произойдет конфликт и командой KILL удалит этот никнейм из базы данных сервера. Если сообщение NICK станет причиной изменения никнейма, то оргинальный (старый) никнейм удалится.
Числовые ответы:

		ERR_NONICKNAMEGIVEN             ERR_ERRONEUSNICKNAME
		ERR_NICKNAMEINUSE               ERR_NICKCOLLISION

Пример:
```
  NICK Wiz		// Вступление нового никнейма "Wiz".
  :WiZ NICK Kilroy	// WiZ изменяет свой никнейм на Kilroy.
```

#### 3. USER-сообщение

**Параметры:** `<username>` `<hostname>` `<servername>` `<realname>`

Сообщение USER используется в начале соединения для указания имени пользователя, названия хоста, названия сервера и реального имени нового пользователя.

Должно быть обьявлено, что параметр `<realname>` должен быть последним, потому что он может содержать пробелы и перед ним должен быть префикс `:`, делающим распознавание более лучшим.

Числовые ответы:

		RR_NEEDMOREPARAMS		ERR_ALREADYREGISTRED

Примеры:
```
  USER guest tolmoon tolsun :Ronnie Reagan
  // Пользователь зарегистрировал себя под именем "guest" и его реальное имя "Ronnie Reagan"
```

## Клиенты

Каждый клиент имеет никнейм длиной не больше девяти (9) символов. Доступные символы в нике: `a-z`, `A-Z`, `0-9`, `_`, `.`

Сервер(ы) должны знать о клиенте:

* имя хоста, с которого запустился клиент.
* имя пользователя клиента на этом хосте.
* сервер, к которому присоединился клиент.

### IRC-операторы

IRC-операторы – специальный класс клиентов, имеющий возможность выполнять команды:

* RESTART (?)
* REHASH (?)
* KILL

## Каналы

Канал создается при соединении первого клиента с ним и канал исчезает, когда его покидает последний клиент. Пока канал отсутствует, любой клиент может завладеть каналом, назвав свой таким же именем.
**Имя канала** – строка (начинающаяся с символа `&` или `#`) длинной до 200 символов.

Для создания нового канала или входа в существующий, пользователь должен запросить JOIN канала. Если канал отсутствовал, то канал создается и вошедший пользователь становится **оператором канала**. Если канал уже существует, но так или иначе он не отвечает на попытки войти, значит в настройках канала установлен какой-либо из нижеприведенных режимов. Возможно, этот канал только для приглашенных (invite-only), (режим +i), и вы сможете на его войти только будучи приглашенным. Пользователь может находится не нескольких каналах одновременно, но рекомендуется ограничиться десятью (10) каналами

**Оператор канала** – владелец канал, идентифицируется символом `@`, следующим за его никнеймом, всякий раз, как он ассоциируется с каналом (например, ответы на команды NAMES, WHO и WHOIS)
Оператор канала имеет возможность выполнять команды:

* KICK
* INVITE (+i)
* TOPIC (+i)
* MODE